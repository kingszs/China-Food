(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-761819b8"],{"99af":function(e,t,a){"use strict";var s=a("23e7"),n=a("da84"),i=a("d039"),c=a("e8b5"),d=a("861d"),l=a("7b0b"),p=a("07fa"),f=a("8418"),h=a("65f0"),o=a("1dde"),r=a("b622"),a=a("2d00"),b=r("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",x=n.TypeError,i=51<=a||!i(function(){var e=[];return e[b]=!1,e.concat()[0]!==e}),o=o("concat");s({target:"Array",proto:!0,forced:!i||!o},{concat:function(e){for(var t,a,s,n=l(this),i=h(n,0),o=0,r=-1,u=arguments.length;r<u;r++)if(function(e){if(!d(e))return!1;var t=e[b];return void 0!==t?!!t:c(e)}(s=-1===r?n:arguments[r])){if(a=p(s),m<o+a)throw x(v);for(t=0;t<a;t++,o++)t in s&&f(i,o,s[t])}else{if(m<=o)throw x(v);f(i,o++,s)}return i.length=o,i}})},a55b:function(e,t,a){"use strict";a.r(t);var s=(a("99af"),{data:function(){return{checked:!0,username:"",pwd:"",password:/^(\w){6,20}$/,pd:"密码",pu:"用户名"}},methods:{blurUser:function(){""==this.username&&(this.pu="请输入用户名")},blurPwd:function(){""==this.pwd&&(this.pd="请输入密码")},emptyTest:function(){return!!(this.uisername="")},backHome:function(){this.$router.push("/")},onFailed:function(e){var t=this;""==this.username?this.$dialog.alert({message:"用户名不能为空"}).then(function(){t.$nextTick(function(){t.$refs.input_user.focus()})}):""==this.pwd&&this.$dialog.alert({message:"密码不能为空"}).then(function(){t.$nextTick(function(){t.$refs.input_pd.focus()})})},onSubmit:function(e){var t=this,a="username=".concat(this.username,"&password=").concat(this.pwd);this.axios.post("/login",a).then(function(e){200==e.data.code?(t.$store.dispatch("getUser",t.username),t.axios.get("/user?username=".concat(t.username)).then(function(e){t.$store.dispatch("getUserId",e.data.result[0].user_id),t.$store.dispatch("getUserPic",e.data.result[0].pic),sessionStorage.setItem("userName",e.data.result[0].username),sessionStorage.setItem("userId",e.data.result[0].user_id),sessionStorage.setItem("userPic",e.data.result[0].pic),t.$router.push("/aboutme")})):(t.onload,t.$dialog.alert({message:"用户名或者密码错误"}).then(function(){t.username="",t.pwd="",t.$nextTick(function(){t.$refs.input_user.focus()})}))})}},mounted:function(){var e=this;this.$nextTick(function(){e.$refs.input_user.focus()})},watch:{data:function(e,t){}}}),a=(a("e146"),a("2877")),s=Object(a.a)(s,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{staticClass:"tab"},[e("div",{attrs:{id:"backhome"},on:{click:[function(e){e.stopPropagation()},t.backHome]}},[e("van-icon",{attrs:{name:"arrow-left",size:"25px"}}),e("span",[t._v("回首页")])],1),e("div",{staticClass:"title"},[t._v("一起发现美食")]),e("div",[e("van-form",{attrs:{"validate-first":""},on:{failed:t.onFailed,submit:t.onSubmit}},[e("van-field",{ref:"input_user",staticClass:"user",attrs:{name:"用户名",label:"用户名",placeholder:t.pu,rules:[{required:t.emptyTest,message:""}]},on:{blur:t.blurUser},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("van-field",{ref:"input_pd",staticClass:"pd",attrs:{type:"password",name:"密码",label:"密码",placeholder:t.pd,rules:[{required:!0,message:""}]},on:{blur:t.blurPwd},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}}),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",disabled:!t.checked}},[t._v(" 登录 ")])],1)],1),e("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa",padding:"0 16px"}},[t._v(" or ")]),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{round:"",block:"",to:"/register"},on:{click:function(e){e.stopPropagation()}}},[t._v(" 注册 ")])],1)],1),e("van-checkbox",{staticStyle:{"margin-top":"40px","font-size":"12px"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v(" 我已阅读并同意 "),e("router-link",{attrs:{to:"#"}},[t._v("用户协议")]),t._v(" 和 "),e("router-link",{attrs:{to:"#"}},[t._v("隐私政策")])],1)],1)},[],!1,null,"f1928866",null);t.default=s.exports},b6db:function(e,t,a){var s=a("be21");(s="string"==typeof(s=s.__esModule?s.default:s)?[[e.i,s,""]]:s).locals&&(e.exports=s.locals),(0,a("499e").default)("6283bcdc",s,!0,{sourceMap:!1,shadowMode:!1})},be21:function(e,t,a){(t=a("24fb")(!1)).push([e.i,"#backhome[data-v-f1928866]{display:block;height:25px;width:100px;position:absolute;top:20px;left:10px;font-size:12px;font-weight:100;display:flex;align-items:center}#backhome span[data-v-f1928866]{display:block}.tab[data-v-f1928866]{width:100vw;height:100vh;display:flex;align-items:center;flex-flow:column;justify-content:center}.tab .title[data-v-f1928866]{font-size:28px;position:fixed;font-weight:700;text-align:center;top:50px}.tab .password[data-v-f1928866],.tab .phone[data-v-f1928866]{border:1px solid #ebedf0}",""]),e.exports=t},e146:function(e,t,a){"use strict";a("b6db")}}]);